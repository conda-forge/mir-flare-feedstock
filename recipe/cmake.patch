From e0e16d5c33052974549a68292bbce47c0732a601 Mon Sep 17 00:00:00 2001
From: Jan Janssen <jan-janssen@users.noreply.github.com>
Date: Sun, 30 Oct 2022 13:56:23 -0600
Subject: [PATCH] Update CMakeLists.txt

---
 CMakeLists.txt | 76 ++++++++++++++++++++++++++------------------------
 1 file changed, 39 insertions(+), 37 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 6410c956..5f527d42 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -30,26 +30,26 @@ include(FetchContent)
 # googletest
 ################################################################################
 
-FetchContent_Declare(googletest
-    GIT_REPOSITORY https://github.com/google/googletest.git
-    GIT_TAG release-1.11.0
-    SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/External/googletest
-    UPDATE_COMMAND ""
-)
-FetchContent_MakeAvailable(googletest)
+# FetchContent_Declare(googletest
+#     GIT_REPOSITORY https://github.com/google/googletest.git
+#     GIT_TAG release-1.11.0
+#     SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/External/googletest
+#     UPDATE_COMMAND ""
+# )
+# FetchContent_MakeAvailable(googletest)
 
 # Json
 ################################################################################
 
-FetchContent_Declare(json
-    GIT_REPOSITORY https://github.com/ArthurSonzogni/nlohmann_json_cmake_fetchcontent
-    SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/External/json
-    GIT_TAG v3.9.1)
-
-FetchContent_GetProperties(json)
-FetchContent_Populate(json)
-add_subdirectory(${json_SOURCE_DIR} ${json_BINARY_DIR})
-include_directories(${json_SOURCE_DIR})
+# FetchContent_Declare(json
+#     GIT_REPOSITORY https://github.com/ArthurSonzogni/nlohmann_json_cmake_fetchcontent
+#     SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/External/json
+#     GIT_TAG v3.9.1)
+# 
+# FetchContent_GetProperties(json)
+# FetchContent_Populate(json)
+# add_subdirectory(${json_SOURCE_DIR} ${json_BINARY_DIR})
+# include_directories(${json_SOURCE_DIR})
 
 # Kokkos
 ################################################################################
@@ -68,37 +68,39 @@ include_directories(${json_SOURCE_DIR})
 # Eigen3
 ################################################################################
 
-ExternalProject_Add(
-    eigen_project
-    SOURCE_DIR "${CMAKE_BINARY_DIR}/External/Eigen3"
-    URL "https://github.com/eigenteam/eigen-git-mirror/archive/3.3.7.tar.gz"
-    URL_HASH MD5=77a2c934eaf35943c43ee600a83b72df
-    CONFIGURE_COMMAND ""
-    BUILD_COMMAND ""
-    INSTALL_COMMAND ""
-)
-ExternalProject_Get_Property(eigen_project SOURCE_DIR)
-add_library(Eigen3 INTERFACE)
+# ExternalProject_Add(
+#     eigen_project
+#     SOURCE_DIR "${CMAKE_BINARY_DIR}/External/Eigen3"
+#     URL "https://github.com/eigenteam/eigen-git-mirror/archive/3.3.7.tar.gz"
+#     URL_HASH MD5=77a2c934eaf35943c43ee600a83b72df
+#     CONFIGURE_COMMAND ""
+#     BUILD_COMMAND ""
+#     INSTALL_COMMAND ""
+# )
+# ExternalProject_Get_Property(eigen_project SOURCE_DIR)
+# add_library(Eigen3 INTERFACE)
+find_package(Eigen3)
 target_include_directories(Eigen3 SYSTEM INTERFACE ${SOURCE_DIR})
 include_directories(${SOURCE_DIR})
 
 # pybind11
 ###############################################################################
-ExternalProject_Add(
-    pybind11_project
-    SOURCE_DIR "${CMAKE_BINARY_DIR}/External/pybind11"
-    URL "https://github.com/pybind/pybind11/archive/v2.3.0.tar.gz"
-    URL_HASH MD5=e2120c5b0e3c20a93f2dfcdc55026ba8
-    CONFIGURE_COMMAND ""
-    BUILD_COMMAND ""
-    INSTALL_COMMAND ""
-)
+# ExternalProject_Add(
+#     pybind11_project
+#     SOURCE_DIR "${CMAKE_BINARY_DIR}/External/pybind11"
+#     URL "https://github.com/pybind/pybind11/archive/v2.3.0.tar.gz"
+#     URL_HASH MD5=e2120c5b0e3c20a93f2dfcdc55026ba8
+#     CONFIGURE_COMMAND ""
+#     BUILD_COMMAND ""
+#     INSTALL_COMMAND ""
+# )
 if (NOT FLARE_PYTHON_VERSION)
     set(Python_ADDITIONAL_VERSIONS 3.7 3.6 3.5)
 endif()
 find_package(PythonLibsNew ${FLARE_PYTHON_VERSION} REQUIRED)
 
-add_library(pybind11 INTERFACE)
+find_package(pybind11)
+# add_library(pybind11 INTERFACE)
 ExternalProject_Get_Property(pybind11_project SOURCE_DIR)
 target_include_directories(pybind11 SYSTEM INTERFACE ${SOURCE_DIR}/include)
 target_include_directories(pybind11 SYSTEM INTERFACE ${PYTHON_INCLUDE_DIRS})
